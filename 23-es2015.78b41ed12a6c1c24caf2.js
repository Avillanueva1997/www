(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{qI4B:function(n,l,t){"use strict";t.r(l);var o=t("8Y7J");class e{}var u=t("pMnS"),s=t("oBZk"),i=t("ZZ/e"),r=t("SVse");class a{constructor(){}ngAfterViewInit(){const n=this.coords.split(","),l=Number(n[0]),t=Number(n[1]);mapboxgl.accessToken="pk.eyJ1IjoidmlsbGFudWV2YWFuZ2VsNjgiLCJhIjoiY2swdnczbGRnMTNoeTNpbGE1Y2Yzazc5biJ9.BtfS0yH9oO_o3yFnCv978w";const o=new mapboxgl.Map({container:this.mapa.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:[t,l],zoom:15});(new mapboxgl.Marker).setLngLat([t,l]).addTo(o)}}var b=o.pb({encapsulation:0,styles:[["#map[_ngcontent-%COMP%]{width:100%;height:300px}"]],data:{}});function c(n){return o.Nb(0,[o.Jb(671088640,1,{mapa:0}),(n()(),o.rb(1,0,[[1,0],["mapa",1]],null,0,"div",[["id","map"]],null,null,null,null,null))],null,null)}class p{constructor(n){this.domSanitizer=n}transform(n){return this.domSanitizer.bypassSecurityTrustStyle(`background-image:url('${n}')`)}}var g=t("cUpR");const f=t("AytR").a.url;class h{transform(n,l){return`${f}/posts/imagen/${l}/${n}`}}class d{constructor(n,l){this.navCtrl=n,this.storage=l,this.post={}}ngOnInit(){}clickEvent(n){this.navCtrl.navigateRoot("/event",{animated:!0}),this.storage.set("post",n._id)}}var m=t("xgBC"),v=o.pb({encapsulation:0,styles:[["@font-face{font-family:Segoe-UI;src:url(/assets/fonts/segoe-ui-light-2.ttf);font-weight:400;font-style:normal}*[_ngcontent-%COMP%]{font-family:Segoe-UI!important}.image-slide[_ngcontent-%COMP%]{width:100%!important;height:250px;background-position:center;background-repeat:no-repeat;background-size:cover}.post[_ngcontent-%COMP%]{position:relative}.post[_ngcontent-%COMP%]   ion-slides[_ngcontent-%COMP%]{position:relative;z-index:3}.post[_ngcontent-%COMP%]   .itmensaje[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;background:rgba(67,141,237,.9);--background:rgba($cBlue, .9);z-index:5;font-family:Segoe-UI!important;color:#fff}"]],data:{}});function x(n){return o.Nb(0,[(n()(),o.rb(0,0,null,null,3,"ion-slide",[["class","image-slide"]],[[8,"style",2]],null,null,s.sb,s.E)),o.qb(1,49152,null,0,i.rb,[o.h,o.k,o.x],null,null),o.Hb(2,2),o.Hb(3,1)],null,(function(n,l){var t=l.component,e=o.Mb(l,0,0,n(l,3,0,o.Db(l.parent.parent,0),o.Mb(l,0,0,n(l,2,0,o.Db(l.parent.parent,1),l.context.$implicit,t.post.usuario._id))));n(l,0,0,e)}))}function k(n){return o.Nb(0,[(n()(),o.rb(0,0,null,null,3,"ion-slides",[["pager","true"]],null,null,null,s.tb,s.F)),o.qb(1,49152,null,0,i.sb,[o.h,o.k,o.x],{pager:[0,"pager"]},null),(n()(),o.gb(16777216,null,0,1,null,x)),o.qb(3,278528,null,0,r.j,[o.M,o.J,o.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var t=l.component;n(l,1,0,"true"),n(l,3,0,t.post.imgs)}),null)}function M(n){return o.Nb(0,[(n()(),o.rb(0,0,null,null,5,"ion-slides",[],null,null,null,s.tb,s.F)),o.qb(1,49152,null,0,i.sb,[o.h,o.k,o.x],null,null),(n()(),o.rb(2,0,null,0,3,"ion-slide",[["class","image-slide"]],[[8,"style",2]],null,null,s.sb,s.E)),o.qb(3,49152,null,0,i.rb,[o.h,o.k,o.x],null,null),o.Hb(4,2),o.Hb(5,1)],null,(function(n,l){var t=l.component,e=o.Mb(l,2,0,n(l,5,0,o.Db(l.parent,0),o.Mb(l,2,0,n(l,4,0,o.Db(l.parent,1),t.post.imgs[0],t.post.usuario._id))));n(l,2,0,e)}))}function O(n){return o.Nb(0,[(n()(),o.rb(0,0,null,null,1,"app-mapa",[],null,null,null,c,b)),o.qb(1,4243456,null,0,a,[],{coords:[0,"coords"]},null)],(function(n,l){n(l,1,0,l.component.post.coords)}),null)}function q(n){return o.Nb(0,[o.Fb(0,p,[g.b]),o.Fb(0,h,[]),(n()(),o.rb(2,0,null,null,11,"div",[["class","post"]],null,null,null,null,null)),(n()(),o.gb(16777216,null,null,1,null,k)),o.qb(4,16384,null,0,r.k,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,null,1,null,M)),o.qb(6,16384,null,0,r.k,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,null,1,null,O)),o.qb(8,16384,null,0,r.k,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.rb(9,0,null,null,4,"ion-item",[["class","itmensaje"],["lines","none"]],null,[[null,"click"]],(function(n,l,t){var o=!0,e=n.component;return"click"===l&&(o=!1!==e.clickEvent(e.post)&&o),o}),s.hb,s.t)),o.qb(10,49152,null,0,i.I,[o.h,o.k,o.x],{lines:[0,"lines"]},null),(n()(),o.rb(11,0,null,0,2,"ion-label",[["class","ion-text-wrap"]],null,null,null,s.ib,s.u)),o.qb(12,49152,null,0,i.O,[o.h,o.k,o.x],null,null),(n()(),o.Lb(13,0,["",""]))],(function(n,l){var t=l.component;n(l,4,0,t.post.imgs.length>1),n(l,6,0,1===t.post.imgs.length),n(l,8,0,t.post.coords),n(l,10,0,"none")}),(function(n,l){n(l,13,0,l.component.post.mensaje)}))}class C{constructor(){this.posts=[]}ngOnInit(){console.log(this.posts)}}var _=o.pb({encapsulation:0,styles:[[""]],data:{}});function y(n){return o.Nb(0,[(n()(),o.rb(0,0,null,null,3,"ion-col",[["size","12"],["size-lg","3"],["size-md","4"],["size-sm","6"],["size-xs","12"]],null,null,null,s.W,s.i)),o.qb(1,49152,null,0,i.u,[o.h,o.k,o.x],{size:[0,"size"]},null),(n()(),o.rb(2,0,null,0,1,"app-post",[],null,null,null,q,v)),o.qb(3,114688,null,0,d,[i.Jb,m.b],{post:[0,"post"]},null)],(function(n,l){n(l,1,0,"12"),n(l,3,0,l.context.$implicit)}),null)}function P(n){return o.Nb(0,[(n()(),o.rb(0,0,null,null,5,"ion-grid",[["fixed",""]],null,null,null,s.ab,s.m)),o.qb(1,49152,null,0,i.B,[o.h,o.k,o.x],{fixed:[0,"fixed"]},null),(n()(),o.rb(2,0,null,0,3,"ion-row",[],null,null,null,s.ob,s.A)),o.qb(3,49152,null,0,i.kb,[o.h,o.k,o.x],null,null),(n()(),o.gb(16777216,null,0,1,null,y)),o.qb(5,278528,null,0,r.j,[o.M,o.J,o.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var t=l.component;n(l,1,0,""),n(l,5,0,t.posts)}),null)}var I=t("jwUf");class w{constructor(n,l){this.postService=n,this.storage=l,this.posts=[],this.habilitado=!0}ngOnInit(){this.siguientes(),this.postService.nuevoPost.subscribe(n=>{this.posts.unshift(n)}),this.storage.get("post")&&this.storage.remove("post")}recargar(n){this.siguientes(n,!0),this.habilitado=!0,this.posts=[]}siguientes(n,l=!1){this.postService.getPosts(l).subscribe(l=>{this.posts.push(...l.posts),n&&(n.target.complete(),0===l.posts.length&&(this.habilitado=!1))})}}var B=o.pb({encapsulation:0,styles:[['@font-face{font-family:Segoe-UI;src:url(/assets/fonts/segoe-ui-light-2.ttf);font-weight:400;font-style:normal}*[_ngcontent-%COMP%]{font-family:Segoe-UI}.welcome-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}.headerevent[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{background:url(/assets/bg-cpg.jpg) center/cover no-repeat;--background:url("/assets/bg-cpg.jpg");border:0!important}.headerevent[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{color:#fff}.headerevent[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:25px}.headerevent[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{color:#fff;font-size:18px;background:#2ad0a8;--background:$cGreen;width:100%;margin-top:-28px;height:81px;padding:35px 10px 10px 20px;text-transform:capitalize;font-weight:400;margin-left:15%;letter-spacing:2px;border-top-right-radius:30px;border-bottom-left-radius:30px}.eventtool[_ngcontent-%COMP%]{background:#438ded!important}.toolbar-background[_ngcontent-%COMP%], .toolbar-container[_ngcontent-%COMP%]{display:none!important}']],data:{}});function z(n){return o.Nb(0,[(n()(),o.rb(0,0,null,null,8,"ion-header",[["class","headerevent"]],null,null,null,s.bb,s.n)),o.qb(1,49152,null,0,i.C,[o.h,o.k,o.x],null,null),(n()(),o.rb(2,0,null,0,6,"ion-toolbar",[["class","eventtool"]],null,null,null,s.Bb,s.N)),o.qb(3,49152,null,0,i.Db,[o.h,o.k,o.x],null,null),(n()(),o.rb(4,0,null,0,2,"ion-buttons",[["slot","start"]],null,null,null,s.R,s.d)),o.qb(5,49152,null,0,i.m,[o.h,o.k,o.x],null,null),(n()(),o.rb(6,0,null,0,0,"img",[["class","logotype"],["src","/assets/cgp-logo-10.svg"],["width","70"]],null,null,null,null,null)),(n()(),o.rb(7,0,null,0,1,"ion-title",[],null,null,null,s.zb,s.L)),o.qb(8,49152,null,0,i.Bb,[o.h,o.k,o.x],null,null),(n()(),o.rb(9,0,null,null,11,"ion-content",[["color","light"]],null,null,null,s.X,s.j)),o.qb(10,49152,null,0,i.v,[o.h,o.k,o.x],{color:[0,"color"]},null),(n()(),o.rb(11,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],(function(n,l,t){var o=!0;return"ionRefresh"===l&&(o=!1!==n.component.recargar(t)&&o),o}),s.nb,s.y)),o.qb(12,49152,null,0,i.eb,[o.h,o.k,o.x],null,null),(n()(),o.rb(13,0,null,0,1,"ion-refresher-content",[],null,null,null,s.mb,s.z)),o.qb(14,49152,null,0,i.fb,[o.h,o.k,o.x],null,null),(n()(),o.rb(15,0,null,0,1,"app-posts",[],null,null,null,P,_)),o.qb(16,114688,null,0,C,[],{posts:[0,"posts"]},null),(n()(),o.rb(17,0,null,0,3,"ion-infinite-scroll",[["threshold","150px"]],null,[[null,"ionInfinite"]],(function(n,l,t){var o=!0;return"ionInfinite"===l&&(o=!1!==n.component.siguientes(t)&&o),o}),s.fb,s.q)),o.qb(18,49152,null,0,i.F,[o.h,o.k,o.x],{disabled:[0,"disabled"],threshold:[1,"threshold"]},null),(n()(),o.rb(19,0,null,0,1,"ion-infinite-scroll-content",[],null,null,null,s.eb,s.r)),o.qb(20,49152,null,0,i.G,[o.h,o.k,o.x],null,null)],(function(n,l){var t=l.component;n(l,10,0,"light"),n(l,16,0,t.posts),n(l,18,0,!t.habilitado,"150px")}),null)}function j(n){return o.Nb(0,[(n()(),o.rb(0,0,null,null,1,"app-tab1",[],null,null,null,z,B)),o.qb(1,114688,null,0,w,[I.a,m.b],null,null)],(function(n,l){n(l,1,0)}),null)}var N=o.nb("app-tab1",w,j,{},{},[]),F=t("s7LF"),S=t("iTUp"),J=t("j1ZV"),U=t("iInd");t.d(l,"Tab1PageModuleNgFactory",(function(){return $}));var $=o.ob(e,[],(function(n){return o.Ab([o.Bb(512,o.j,o.Z,[[8,[u.a,N]],[3,o.j],o.v]),o.Bb(4608,r.m,r.l,[o.s,[2,r.v]]),o.Bb(4608,i.b,i.b,[o.x,o.g]),o.Bb(4608,i.Ib,i.Ib,[i.b,o.j,o.p]),o.Bb(4608,i.Mb,i.Mb,[i.b,o.j,o.p]),o.Bb(4608,F.l,F.l,[]),o.Bb(1073742336,r.c,r.c,[]),o.Bb(1073742336,i.Fb,i.Fb,[]),o.Bb(1073742336,F.k,F.k,[]),o.Bb(1073742336,F.b,F.b,[]),o.Bb(1073742336,S.a,S.a,[]),o.Bb(1073742336,J.a,J.a,[]),o.Bb(1073742336,U.o,U.o,[[2,U.t],[2,U.m]]),o.Bb(1073742336,e,e,[]),o.Bb(1024,U.k,(function(){return[[{path:"",component:w}]]}),[])])}))}}]);