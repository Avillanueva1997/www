(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{qI4B:function(n,l,t){"use strict";t.r(l);var o=t("CcnG"),u=function(){return function(){}}(),e=t("pMnS"),i=t("oBZk"),s=t("ZZ/e"),r=t("Ip0R"),a=function(){function n(){}return n.prototype.ngAfterViewInit=function(){var n=this.coords.split(","),l=Number(n[0]),t=Number(n[1]);mapboxgl.accessToken="pk.eyJ1IjoidmlsbGFudWV2YWFuZ2VsNjgiLCJhIjoiY2swdnczbGRnMTNoeTNpbGE1Y2Yzazc5biJ9.BtfS0yH9oO_o3yFnCv978w";var o=new mapboxgl.Map({container:this.mapa.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:[t,l],zoom:15});(new mapboxgl.Marker).setLngLat([t,l]).addTo(o)},n}(),b=o.rb({encapsulation:0,styles:[["#map[_ngcontent-%COMP%]{width:100%;height:300px}"]],data:{}});function c(n){return o.Pb(0,[o.Lb(671088640,1,{mapa:0}),(n()(),o.tb(1,0,[[1,0],["mapa",1]],null,0,"div",[["id","map"]],null,null,null,null,null))],null,null)}var p=function(){function n(n){this.domSanitizer=n}return n.prototype.transform=function(n){return this.domSanitizer.bypassSecurityTrustStyle("background-image:url('"+n+"')")},n}(),g=t("ZYjt"),f=t("AytR").a.url,h=function(){function n(){}return n.prototype.transform=function(n,l){return f+"/posts/imagen/"+l+"/"+n},n}(),d=function(){function n(n,l){this.navCtrl=n,this.storage=l,this.post={}}return n.prototype.ngOnInit=function(){},n.prototype.clickEvent=function(n){this.navCtrl.navigateRoot("/event",{animated:!0}),this.storage.set("post",n._id)},n}(),m=t("iw74"),v=o.rb({encapsulation:0,styles:[["@font-face{font-family:Segoe-UI;src:url(/assets/fonts/segoe-ui-light-2.ttf);font-weight:400;font-style:normal}*[_ngcontent-%COMP%]{font-family:Segoe-UI!important}.image-slide[_ngcontent-%COMP%]{width:100%!important;height:250px;background-position:center;background-repeat:no-repeat;background-size:cover}.post[_ngcontent-%COMP%]{position:relative}.post[_ngcontent-%COMP%]   ion-slides[_ngcontent-%COMP%]{position:relative;z-index:3}.post[_ngcontent-%COMP%]   .itmensaje[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;background:rgba(67,141,237,.9);--background:rgba($cBlue, .9);z-index:5;font-family:Segoe-UI!important;color:#fff}"]],data:{}});function k(n){return o.Pb(0,[(n()(),o.tb(0,0,null,null,3,"ion-slide",[["class","image-slide"]],[[8,"style",2]],null,null,i.sb,i.E)),o.sb(1,49152,null,0,s.rb,[o.h,o.k,o.z],null,null),o.Jb(2,2),o.Jb(3,1)],null,(function(n,l){var t=l.component,u=o.Ob(l,0,0,n(l,3,0,o.Fb(l.parent.parent,0),o.Ob(l,0,0,n(l,2,0,o.Fb(l.parent.parent,1),l.context.$implicit,t.post.usuario._id))));n(l,0,0,u)}))}function O(n){return o.Pb(0,[(n()(),o.tb(0,0,null,null,3,"ion-slides",[["pager","true"]],null,null,null,i.tb,i.F)),o.sb(1,49152,null,0,s.sb,[o.h,o.k,o.z],{pager:[0,"pager"]},null),(n()(),o.ib(16777216,null,0,1,null,k)),o.sb(3,278528,null,0,r.j,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var t=l.component;n(l,1,0,"true"),n(l,3,0,t.post.imgs)}),null)}function z(n){return o.Pb(0,[(n()(),o.tb(0,0,null,null,5,"ion-slides",[],null,null,null,i.tb,i.F)),o.sb(1,49152,null,0,s.sb,[o.h,o.k,o.z],null,null),(n()(),o.tb(2,0,null,0,3,"ion-slide",[["class","image-slide"]],[[8,"style",2]],null,null,i.sb,i.E)),o.sb(3,49152,null,0,s.rb,[o.h,o.k,o.z],null,null),o.Jb(4,2),o.Jb(5,1)],null,(function(n,l){var t=l.component,u=o.Ob(l,2,0,n(l,5,0,o.Fb(l.parent,0),o.Ob(l,2,0,n(l,4,0,o.Fb(l.parent,1),t.post.imgs[0],t.post.usuario._id))));n(l,2,0,u)}))}function y(n){return o.Pb(0,[(n()(),o.tb(0,0,null,null,1,"app-mapa",[],null,null,null,c,b)),o.sb(1,4243456,null,0,a,[],{coords:[0,"coords"]},null)],(function(n,l){n(l,1,0,l.component.post.coords)}),null)}function P(n){return o.Pb(0,[o.Hb(0,p,[g.b]),o.Hb(0,h,[]),(n()(),o.tb(2,0,null,null,11,"div",[["class","post"]],null,null,null,null,null)),(n()(),o.ib(16777216,null,null,1,null,O)),o.sb(4,16384,null,0,r.k,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.ib(16777216,null,null,1,null,z)),o.sb(6,16384,null,0,r.k,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.ib(16777216,null,null,1,null,y)),o.sb(8,16384,null,0,r.k,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.tb(9,0,null,null,4,"ion-item",[["class","itmensaje"],["lines","none"]],null,[[null,"click"]],(function(n,l,t){var o=!0,u=n.component;return"click"===l&&(o=!1!==u.clickEvent(u.post)&&o),o}),i.hb,i.t)),o.sb(10,49152,null,0,s.I,[o.h,o.k,o.z],{lines:[0,"lines"]},null),(n()(),o.tb(11,0,null,0,2,"ion-label",[["class","ion-text-wrap"]],null,null,null,i.ib,i.u)),o.sb(12,49152,null,0,s.O,[o.h,o.k,o.z],null,null),(n()(),o.Nb(13,0,["",""]))],(function(n,l){var t=l.component;n(l,4,0,t.post.imgs.length>1),n(l,6,0,1===t.post.imgs.length),n(l,8,0,t.post.coords),n(l,10,0,"none")}),(function(n,l){n(l,13,0,l.component.post.mensaje)}))}var x=function(){function n(){this.posts=[]}return n.prototype.ngOnInit=function(){console.log(this.posts)},n}(),C=o.rb({encapsulation:0,styles:[[""]],data:{}});function M(n){return o.Pb(0,[(n()(),o.tb(0,0,null,null,3,"ion-col",[["size","12"],["size-lg","3"],["size-md","4"],["size-sm","6"],["size-xs","12"]],null,null,null,i.W,i.i)),o.sb(1,49152,null,0,s.u,[o.h,o.k,o.z],{size:[0,"size"]},null),(n()(),o.tb(2,0,null,0,1,"app-post",[],null,null,null,P,v)),o.sb(3,114688,null,0,d,[s.Jb,m.b],{post:[0,"post"]},null)],(function(n,l){n(l,1,0,"12"),n(l,3,0,l.context.$implicit)}),null)}function _(n){return o.Pb(0,[(n()(),o.tb(0,0,null,null,5,"ion-grid",[["fixed",""]],null,null,null,i.ab,i.m)),o.sb(1,49152,null,0,s.B,[o.h,o.k,o.z],{fixed:[0,"fixed"]},null),(n()(),o.tb(2,0,null,0,3,"ion-row",[],null,null,null,i.ob,i.A)),o.sb(3,49152,null,0,s.kb,[o.h,o.k,o.z],null,null),(n()(),o.ib(16777216,null,0,1,null,M)),o.sb(5,278528,null,0,r.j,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var t=l.component;n(l,1,0,""),n(l,5,0,t.posts)}),null)}var I=t("jwUf"),w=function(){function n(n,l){this.postService=n,this.storage=l,this.posts=[],this.habilitado=!0}return n.prototype.ngOnInit=function(){var n=this;this.siguientes(),this.postService.nuevoPost.subscribe((function(l){n.posts.unshift(l)})),this.storage.get("post")&&this.storage.remove("post")},n.prototype.recargar=function(n){this.siguientes(n,!0),this.habilitado=!0,this.posts=[]},n.prototype.siguientes=function(n,l){var t=this;void 0===l&&(l=!1),this.postService.getPosts(l).subscribe((function(l){var o;(o=t.posts).push.apply(o,l.posts),n&&(n.target.complete(),0===l.posts.length&&(t.habilitado=!1))}))},n}(),j=o.rb({encapsulation:0,styles:[['@font-face{font-family:Segoe-UI;src:url(/assets/fonts/segoe-ui-light-2.ttf);font-weight:400;font-style:normal}*[_ngcontent-%COMP%]{font-family:Segoe-UI}.welcome-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}.headerevent[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{background:url(/assets/bg-cpg.jpg) center/cover no-repeat;--background:url("/assets/bg-cpg.jpg");border:0!important}.headerevent[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{color:#fff}.headerevent[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:25px}.headerevent[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{color:#fff;font-size:18px;background:#2ad0a8;--background:$cGreen;width:100%;margin-top:-28px;height:81px;padding:35px 10px 10px 20px;text-transform:capitalize;font-weight:400;margin-left:15%;letter-spacing:2px;border-top-right-radius:30px;border-bottom-left-radius:30px}.eventtool[_ngcontent-%COMP%]{background:#438ded!important}.toolbar-background[_ngcontent-%COMP%], .toolbar-container[_ngcontent-%COMP%]{display:none!important}']],data:{}});function F(n){return o.Pb(0,[(n()(),o.tb(0,0,null,null,8,"ion-header",[["class","headerevent"]],null,null,null,i.bb,i.n)),o.sb(1,49152,null,0,s.C,[o.h,o.k,o.z],null,null),(n()(),o.tb(2,0,null,0,6,"ion-toolbar",[["class","eventtool"]],null,null,null,i.Bb,i.N)),o.sb(3,49152,null,0,s.Db,[o.h,o.k,o.z],null,null),(n()(),o.tb(4,0,null,0,2,"ion-buttons",[["slot","start"]],null,null,null,i.R,i.d)),o.sb(5,49152,null,0,s.m,[o.h,o.k,o.z],null,null),(n()(),o.tb(6,0,null,0,0,"img",[["class","logotype"],["src","/assets/cgp-logo-10.svg"],["width","70"]],null,null,null,null,null)),(n()(),o.tb(7,0,null,0,1,"ion-title",[],null,null,null,i.zb,i.L)),o.sb(8,49152,null,0,s.Bb,[o.h,o.k,o.z],null,null),(n()(),o.tb(9,0,null,null,11,"ion-content",[["color","light"]],null,null,null,i.X,i.j)),o.sb(10,49152,null,0,s.v,[o.h,o.k,o.z],{color:[0,"color"]},null),(n()(),o.tb(11,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],(function(n,l,t){var o=!0;return"ionRefresh"===l&&(o=!1!==n.component.recargar(t)&&o),o}),i.nb,i.y)),o.sb(12,49152,null,0,s.eb,[o.h,o.k,o.z],null,null),(n()(),o.tb(13,0,null,0,1,"ion-refresher-content",[],null,null,null,i.mb,i.z)),o.sb(14,49152,null,0,s.fb,[o.h,o.k,o.z],null,null),(n()(),o.tb(15,0,null,0,1,"app-posts",[],null,null,null,_,C)),o.sb(16,114688,null,0,x,[],{posts:[0,"posts"]},null),(n()(),o.tb(17,0,null,0,3,"ion-infinite-scroll",[["threshold","150px"]],null,[[null,"ionInfinite"]],(function(n,l,t){var o=!0;return"ionInfinite"===l&&(o=!1!==n.component.siguientes(t)&&o),o}),i.fb,i.q)),o.sb(18,49152,null,0,s.F,[o.h,o.k,o.z],{disabled:[0,"disabled"],threshold:[1,"threshold"]},null),(n()(),o.tb(19,0,null,0,1,"ion-infinite-scroll-content",[],null,null,null,i.eb,i.r)),o.sb(20,49152,null,0,s.G,[o.h,o.k,o.z],null,null)],(function(n,l){var t=l.component;n(l,10,0,"light"),n(l,16,0,t.posts),n(l,18,0,!t.habilitado,"150px")}),null)}function D(n){return o.Pb(0,[(n()(),o.tb(0,0,null,null,1,"app-tab1",[],null,null,null,F,j)),o.sb(1,114688,null,0,w,[I.a,m.b],null,null)],(function(n,l){n(l,1,0)}),null)}var S=o.pb("app-tab1",w,D,{},{},[]),J=t("gIcY"),L=t("iTUp"),N=t("j1ZV"),B=t("ZYCi");t.d(l,"Tab1PageModuleNgFactory",(function(){return R}));var R=o.qb(u,[],(function(n){return o.Cb([o.Db(512,o.j,o.bb,[[8,[e.a,S]],[3,o.j],o.x]),o.Db(4608,r.m,r.l,[o.u,[2,r.v]]),o.Db(4608,s.b,s.b,[o.z,o.g]),o.Db(4608,s.Ib,s.Ib,[s.b,o.j,o.q]),o.Db(4608,s.Mb,s.Mb,[s.b,o.j,o.q]),o.Db(4608,J.l,J.l,[]),o.Db(1073742336,r.c,r.c,[]),o.Db(1073742336,s.Fb,s.Fb,[]),o.Db(1073742336,J.k,J.k,[]),o.Db(1073742336,J.b,J.b,[]),o.Db(1073742336,L.a,L.a,[]),o.Db(1073742336,N.a,N.a,[]),o.Db(1073742336,B.o,B.o,[[2,B.t],[2,B.m]]),o.Db(1073742336,u,u,[]),o.Db(1024,B.k,(function(){return[[{path:"",component:w}]]}),[])])}))}}]);